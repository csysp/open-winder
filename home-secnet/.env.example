# Copy to .env and edit values

# External
ISP_WAN_TYPE=dhcp                # dhcp|static
WAN_STATIC_IP=
WAN_STATIC_GW=
WAN_STATIC_DNS="1.1.1.1 9.9.9.9"

# WireGuard
WG_PORT=
WG_NET=10.66.66.0/24
WG_SERVER_IP=10.66.66.1/24
WG_ALLOWED_IPS="0.0.0.0/0, ::/0"
WG_PERSISTENT_KEEPALIVE=25
WG_DNS=10.66.66.1

# VLANs & subnets
VLAN_TRUSTED=20
VLAN_IOT=30
VLAN_GUEST=40
VLAN_LAB=50
NET_TRUSTED=10.20.0.0/24
NET_IOT=10.30.0.0/24
NET_GUEST=10.40.0.0/24
NET_LAB=10.50.0.0/24
GW_TRUSTED=10.20.0.1
GW_IOT=10.30.0.1
GW_GUEST=10.40.0.1
GW_LAB=10.50.0.1
DHCP_TRUSTED_RANGE="10.20.0.100 10.20.0.200"
DHCP_IOT_RANGE="10.30.0.100 10.30.0.200"
DHCP_GUEST_RANGE="10.40.0.100 10.40.0.200"
DHCP_LAB_RANGE="10.50.0.100 10.50.0.200"
DNS_RECURSORS="9.9.9.9 1.1.1.1"

# DNS stack: unbound|adguard (default: adguard)
DNS_STACK=adguard
ADGUARD_VERSION=latest          # latest or specific release tag (e.g., v0.107.43)

# WireGuard obfuscation/wrapping (optional)
WRAP_MODE=none                 # none|hysteria2
WRAP_LISTEN_PORT=443           # UDP port for QUIC wrapper
WRAP_PASSWORD=change-me-strong # shared secret for QUIC wrapper
WRAP_DOMAIN=                   # optional SNI/server name (if you have a domain)
WRAP_ENFORCE=false             # if true, block direct WG UDP (QUIC-only)

# Double-hop egress (optional)
DOUBLE_HOP_ENABLE=false
WG2_ADDRESS=10.67.0.2/32       # Router IP on wg1 (towards exit node)
WG2_PORT=51888                 # Local listen not used; remote endpoint has port
WG2_ENDPOINT=exit.example.com:51820   # Remote exit WireGuard endpoint
WG2_PEER_PUBLIC_KEY=           # Public key of exit server peer
WG2_PRIVATE_KEY=               # Router-side private key for wg1 (generated if empty)
WG2_ALLOWED_IPS="0.0.0.0/0"   # Send all egress via exit

# SPA (Single Packet Authorization) for WG port
SPA_ENABLE=false
SPA_PORT=62201                 # fwknopd pcap port (not opened)
SPA_TIMEOUT=300                # seconds WG source IP stays allowed
SPA_KEY=                       # will be generated if empty

# Proxmox
PVE_NODE=$(hostname)
ROUTER_VM_ID=201
LOG_VM_ID=202
ROUTER_VM_NAME=router-vm
LOG_VM_NAME=log-vm
VM_BR_WAN=vmbr0
VM_BR_LAN=vmbr1
ROUTER_CPU=4
ROUTER_RAM=4096
LOG_CPU=2
LOG_RAM=2048
ISO_STORAGE=local
DISK_STORAGE=local-lvm

# Admin
ROUTER_ADMIN_USER=admin
ROUTER_ADMIN_PUBKEY="ssh-ed25519 AAAA... yourkey"
LOG_ADMIN_USER=admin
LOG_ADMIN_PUBKEY="ssh-ed25519 AAAA... yourkey"

# Alerts
ALERT_EMAIL=admin@example.com
SMTP_ENABLE=false
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_TLS=on

# Hardening options
HARDEN_AUDITD=true
INSTALL_AIDE=false
FAIL2BAN_ENABLE=true
DISABLE_USB_STORAGE=false

# Physical NICs (auto-detected by detect_nics.sh; override if needed)
PHYS_WAN_IF=
PHYS_LAN_IF=

# Router VM NIC names inside guest (default virtio order)
ROUTER_WAN_IF=ens18
ROUTER_LAN_IF=ens19

# Logging VM IP (on TRUSTED VLAN)
LOG_VM_IP=10.20.0.10
# VLAN segmentation (true/false)
USE_VLANS=false

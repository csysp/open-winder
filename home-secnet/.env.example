# home-secnet Environment Configuration
# Copy this file to .env and customize the values

# Core WAN Configuration
ISP_WAN_TYPE=dhcp
# For static WAN, uncomment and configure:
# WAN_STATIC_IP=198.51.100.2/24
# WAN_STATIC_GW=198.51.100.1
# WAN_STATIC_DNS="1.1.1.1 9.9.9.9"

# DNS Stack
DNS_STACK=adguard
DNS_RECURSORS="9.9.9.9 1.1.1.1"

# Network Segmentation
USE_VLANS=false

# VLAN Configuration (when USE_VLANS=true)
VLAN_TRUSTED=20
VLAN_IOT=30
VLAN_GUEST=40
VLAN_LAB=50

# Network Subnets
NET_TRUSTED=10.20.0.0/24
NET_IOT=10.30.0.0/24
NET_GUEST=10.40.0.0/24
NET_LAB=10.50.0.0/24

# Gateway IPs
GW_TRUSTED=10.20.0.1
GW_IOT=10.30.0.1
GW_GUEST=10.40.0.1
GW_LAB=10.50.0.1

# DHCP Ranges
DHCP_TRUSTED_RANGE="10.20.0.100 10.20.0.200"
DHCP_IOT_RANGE="10.30.0.100 10.30.0.200"
DHCP_GUEST_RANGE="10.40.0.100 10.40.0.200"
DHCP_LAB_RANGE="10.50.0.100 10.50.0.200"

# Router Interface Names
ROUTER_WAN_IF=ens18
ROUTER_LAN_IF=ens19

# WireGuard Configuration
WG_PORT=51820
WG_NET=10.66.66.0/24
WG_SERVER_IP=10.66.66.1/24
WG_ALLOWED_IPS="0.0.0.0/0, ::/0"
WG_PERSISTENT_KEEPALIVE=25
WG_DNS=10.66.66.1

# WireGuard Wrapper (Hysteria2)
WRAP_MODE=none
# When WRAP_MODE=hysteria2, configure:
# WRAP_LISTEN_PORT=443
# WRAP_PASSWORD=""
# WRAP_DOMAIN=""

# Single Packet Authorization (SPA)
SPA_ENABLE=false
# PQ-KEM SPA (control-plane). Only pqkem supported.
SPA_MODE=pqkem
SPA_PQ_KEM=MLKEM768
SPA_PQ_PORT=62201
SPA_PQ_OPEN_SECS=45
SPA_PQ_WINDOW_SECS=30
SPA_PQ_PSK_FILE=/etc/spa/psk.bin
# SPA artifact version (GitHub Release tag) to fetch; use a tag like v0.1.0 or 'latest'
SPA_PQ_VERSION=latest
# Optional: signature URL for checksum (provide /etc/spa/pubkey.gpg on router)
SPA_PQ_SIG_URL=

# Double-Hop Egress
DOUBLE_HOP_ENABLE=false
# When DOUBLE_HOP_ENABLE=true, configure:
# WG2_ADDRESS=10.67.0.2/32
# WG2_ENDPOINT=exit.example.com:51820
# WG2_PEER_PUBLIC_KEY=""
# WG2_ALLOWED_IPS=0.0.0.0/0

# Proxmox Configuration
PVE_NODE=""
ISO_STORAGE=local
DISK_STORAGE=local-lvm

# Router VM Configuration
ROUTER_VM_ID=201
ROUTER_VM_NAME=router-vm
ROUTER_CPU=4
ROUTER_RAM=4096
ROUTER_ADMIN_USER=admin
ROUTER_ADMIN_PUBKEY="ssh-ed25519 AAAA... yourkey"

# Logging VM Configuration

# Security Configuration
DISABLE_USB_STORAGE=true
HARDEN_AUDITD=true
INSTALL_AIDE=true
FAIL2BAN_ENABLE=true

# AdGuard Home Version
ADGUARD_VERSION=latest

# Alert Email Configuration
ALERT_EMAIL=""
# Remote syslog forwarding (optional)
RSYSLOG_FORWARD_ENABLE=false
RSYSLOG_REMOTE=log.example.org:514
SMTP_ENABLE=false
# When SMTP_ENABLE=true, configure:
# SMTP_HOST=""
# SMTP_PORT=587
# SMTP_USER=""
# SMTP_PASS=""
# SMTP_FROM=""
